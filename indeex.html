<!DOCTYPE html>
<html lang="id">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AHA Commerce - Evaluasi Interaktif</title>
    <style>
        body {
            margin: 0; font-family: 'Inter', sans-serif;
            background: url('image.png') no-repeat center center fixed;
            background-size: cover; min-height: 100vh;
            display: flex; justify-content: center; align-items: center;
        }
        .card {
            background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(15px);
            padding: 25px; border-radius: 20px; width: 90%; max-width: 400px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2); text-align: center;
        }
        .search-box { position: relative; width: 100%; }
        input { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #ddd; box-sizing: border-box; }
        
        /* Gaya untuk daftar saran klik */
        .suggestion-list {
            position: absolute; width: 100%; background: white;
            border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            top: 50px; left: 0; display: none; z-index: 10;
        }
        .suggestion-item { padding: 10px; cursor: pointer; border-bottom: 1px solid #eee; font-size: 0.9rem; }
        .suggestion-item:hover { background: #f0f7ff; }

        .detail-area { display: none; margin-top: 20px; animation: fadeIn 0.5s; }
        .role-tag { font-size: 0.7rem; font-weight: bold; padding: 3px 8px; border-radius: 5px; background: #eee; }
        .hrd-info { background: #0056b3; color: white; padding: 15px; border-radius: 12px; margin: 15px 0; }
        
        /* Visual Grafik */
        .chart-wrapper { display: flex; align-items: flex-end; justify-content: space-around; height: 100px; border-bottom: 2px solid #333; margin: 20px 0; }
        .bar { width: 15%; background: #28a745; border-radius: 4px 4px 0 0; transition: height 1s; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="card">
    <h3 style="margin-bottom: 15px;">Evaluasi AHA Commerce</h3>
    
    <div class="search-box">
        <input type="text" id="inputNama" placeholder="Ketik nama karyawan..." onkeyup="searchName()">
        <div id="suggestions" class="suggestion-list"></div>
    </div>

    <div id="detailArea" class="detail-area">
        <h4 id="dispName" style="margin-bottom: 5px;"></h4>
        <span id="dispRole" class="role-tag"></span>
        
        <div class="hrd-info">
            <span style="font-size: 0.7rem;">HRD PENDAMPING:</span><br>
            <strong id="dispHRD"></strong>
        </div>

        <p style="font-size: 0.8rem; margin-top: 15px;"><b>TREN KINERJA (4 BULAN TERAKHIR)</b></p>
        <div class="chart-wrapper">
            <div id="b1" class="bar"></div>
            <div id="b2" class="bar"></div>
            <div id="b3" class="bar"></div>
            <div id="b4" class="bar"></div>
        </div>
        <div style="display:flex; justify-content:space-around; font-size:0.6rem; font-weight:bold; margin-top:-15px;">
            <span>OKT</span><span>NOV</span><span>DES</span><span>JAN</span>
        </div>
        
        <p id="kesimpulan" style="font-size: 0.75rem; color: #444; margin-top: 20px; font-style: italic;"></p>
        
        <button style="width:100%; padding:10px; border-radius:10px; border:none; background:#28a745; color:white; font-weight:bold; cursor:pointer;">
            Mulai Penilaian Baru
        </button>
    </div>
</div>

<script>
    const dataKaryawan = [
        { nama: "Syakira Naura Ramadhani", role: "CS", hrd: "Muliyadin", skor: [70, 75, 82, 90], tren: "Meningkat" },
        { nama: "Ahmad Deandra Saputra", role: "GUDANG", hrd: "Manzilina Qhistina", skor: [88, 85, 80, 78], tren: "Menurun" }
    ];

    function searchName() {
        const input = document.getElementById('inputNama').value.toUpperCase();
        const list = document.getElementById('suggestions');
        list.innerHTML = '';
        
        if (input.length < 2) { list.style.display = 'none'; return; }

        const filtered = dataKaryawan.filter(k => k.nama.toUpperCase().includes(input));
        
        if (filtered.length > 0) {
            filtered.forEach(k => {
                const div = document.createElement('div');
                div.className = 'suggestion-item';
                div.innerText = k.nama;
                div.onclick = () => showDetail(k);
                list.appendChild(div);
            });
            list.style.display = 'block';
        } else {
            list.style.display = 'none';
        }
    }

    function showDetail(k) {
        document.getElementById('suggestions').style.display = 'none';
        document.getElementById('inputNama').value = k.nama;
        document.getElementById('detailArea').style.display = 'block';
        
        document.getElementById('dispName').innerText = k.nama;
        document.getElementById('dispRole').innerText = k.role;
        document.getElementById('dispHRD').innerText = k.hrd;

        // Update Grafik
        document.getElementById('b1').style.height = k.skor[0] + '%';
        document.getElementById('b2').style.height = k.skor[1] + '%';
        document.getElementById('b3').style.height = k.skor[2] + '%';
        document.getElementById('b4').style.height = k.skor[3] + '%';

        const teks = k.tren === "Meningkat" 
            ? "Halo Ka, performa " + k.nama + " sedang dalam tren positif. Pertahankan!"
            : "Halo Ka, performa " + k.nama + " menurun di bulan terakhir. Butuh perhatian khusus.";
        document.getElementById('kesimpulan').innerText = teks;
    }
</script>

</body>
</html>